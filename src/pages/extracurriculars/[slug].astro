---
import { getCollection } from 'astro:content';
import Layout from '../../layouts/Layout.astro';

export async function getStaticPaths() {
  const extraEntries = await getCollection('extracurriculars');
  return extraEntries.map(entry => ({
    params: { slug: entry.slug }, 
    props: { entry },
  }));
}

const { entry } = Astro.props;
const { Content } = await entry.render();
---

<Layout title={`${entry.data.title} | Activities`}>
  <article class="max-w-3xl mx-auto py-10">
    <header class="mb-8 border-b pb-8">
      <div class="flex justify-between items-center mb-4">
        <h1 class="text-4xl font-extrabold text-slate-900">{entry.data.title}</h1>
        {entry.data.award && (
          <span class="bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-sm font-bold">
            {entry.data.award}
          </span>
        )}
      </div>
      <p class="text-slate-500 font-medium">
        {entry.data.date.toLocaleDateString('en-US', { year: 'numeric', month: 'long' })}
      </p>
    </header>
    
    <div class="prose prose-slate lg:prose-xl max-w-none">
      <Content />
    </div>
    
    <div class="mt-12 pt-8 border-t no-print">
      <a href="/extracurricular" class="text-blue-600 font-bold hover:underline">
        &larr; Back to all activities
      </a>
    </div>
  </article>
</Layout>